# 待研究问题清单

记录在调研过程中发现的重要议题和待深入研究的问题。

---

## 技术深化问题

### 1. 界面状态结构化表征的技术难点

**问题描述**:
- 如何准确提取UI状态的关键特征？
- 如何处理动态内容和异步加载？
- 如何实现高效的状态去重？

**当前思路**:
- 视觉特征：截图 + 感知哈希
- 结构特征：DOM树 + 元素属性
- 语义特征：LLM辅助标注

**优先级**: 🔥 高

**相关文档**: [研究路线图 - 第一阶段](./研究路线图.md#第一阶段正常行为采集-)

---

### 2. UI交互图谱构建方法

**问题描述**:
- 如何定义图谱的节点和边？
- 如何自动发现状态转移关系？
- 如何标注业务语义？

**当前思路**:
- 基于UI遍历自动构建基础图谱
- 使用LLM理解页面语义
- 引入领域知识图谱增强语义

**优先级**: 🔥 高

**相关文档**: [程序化异常生成调研 - UI交互图谱](../research/02_程序化异常生成调研.md#1-构建-ui-交互图谱ui-interaction-graph)

---

### 3. 异常场景生成的多样性保证

**问题描述**:
- 如何避免生成重复的异常场景？
- 如何覆盖未知异常类型（zero-day）？
- 模板驱动和生成式方法如何平衡？

**当前思路**:
- 使用混合架构（约束-生成两级）
- 引入对抗性学习发现新异常
- 建立异常场景去重机制

**优先级**: ⭐ 中

**相关文档**: [程序化异常生成调研 - 异常生成范式](../research/02_程序化异常生成调研.md#一异常生成范式对比与融合路径-)

---

### 4. 异常生成的语义合理性保证

**问题描述**:
- 如何确保生成的异常符合业务逻辑？
- 如何判断异常是否适合当前上下文？
- 如何避免"视觉合理但语义荒谬"的异常？

**当前思路**:
- 基于UI交互图谱限制注入点
- 使用RAG检索相似上下文的真实异常
- 引入领域知识图谱作为约束

**优先级**: 🔥 高

**相关文档**: [方案可行性分析 - 关键挑战](../research/01_方案可行性分析.md#1-语义级一致性建模困难-)

---

### 5. 异常场景质量评估指标设计

**问题描述**:
- 如何量化"高仿真"？
- 如何量化"上下文相关"？
- 如何综合评估异常场景的有效性？

**当前思路**:
- 视觉保真度：LPIPS、FID等图像指标
- 上下文一致性：基于图谱的约束满足度
- 效用性：Agent响应差异度、失败率
- 人工评分：测试工程师语义合理性评分

**优先级**: 🔥 高

**相关文档**: [程序化异常生成调研 - 评估体系](../research/02_程序化异常生成调研.md#三异常生成质量评估体系构建-)

---

### 6. 异常注入点的智能决策

**问题描述**:
- 何时注入异常最有效？
- 如何选择合适的异常类型？
- 如何权衡覆盖率和合理性？

**当前思路**:
- 基于图谱的规则约束
- 使用机器学习预测最优注入点
- 对抗性学习自动发现有效注入策略

**优先级**: ⭐ 中

**相关文档**: [方案可行性分析 - 动态注入](../research/01_方案可行性分析.md#3-动态注入与状态一致性-)

---

## 工程实施问题

### 7. 异常模式的定义和识别

**问题描述**:
- 如何系统性定义异常类型？
- 如何从真实数据中提取异常模式？
- 如何建立异常类型的分类体系？

**当前思路**:
- 参考移动应用测试的常见异常类型
- 分析崩溃报告和错误日志
- 建立层次化的异常分类体系

**优先级**: ⭐ 中

**待调研**:
- 移动应用异常分类标准
- 错误日志挖掘方法

---

### 8. 生成准确性和可解释性提升

**问题描述**:
- 如何提高AI生成的准确性？
- 如何解释为什么生成这个异常？
- 如何让用户理解和信任生成结果？

**当前思路**:
- 使用混合架构增强可控性
- 生成时记录决策过程
- 提供可视化的解释界面

**优先级**: 💡 探索

---

### 9. 主流工具和框架的适用性评估

**问题描述**:
- Appium vs Espresso vs Detox：如何选择？
- 哪些生成模型适合UI异常生成？
- 现有对抗性测试工具能否直接应用？

**当前思路**:
- 在典型应用中对比评估
- 建立工具选型决策矩阵
- 进行技术穿刺验证

**优先级**: ⭐ 中

**相关文档**: [技术栈与工具](../technical/技术栈与工具.md)

---

## 前沿探索问题

### 10. 对抗性UI生成的可行性

**问题描述**:
- 如何训练对抗性生成器？
- 如何避免生成过于极端的异常？
- 对抗性方法在UI异常生成中的价值？

**当前思路**:
- 参考Intel Labs的Adversarial Image Injection框架
- 使用gMiniWoB等环境训练RL对抗者
- 结合生成式对抗网络（GAN）

**优先级**: 💡 探索

**相关文档**: [开源项目 - 对抗性测试](../references/开源项目.md#对抗性测试)

---

### 11. 多模态状态表征的优势

**问题描述**:
- 融合哪些模态的信息？
- 如何有效融合多模态特征？
- 多模态方法的成本效益比？

**当前思路**:
- 视觉：截图
- 结构：DOM树
- 行为：API调用、日志
- 语义：页面功能标签

**优先级**: 💡 探索

---

### 12. RAG在异常生成中的应用

**问题描述**:
- 从哪些数据源检索？
- 如何构建检索索引？
- 如何融合检索结果和生成模型？

**当前思路**:
- 数据源：错误日志、用户反馈、测试用例库
- 索引：向量数据库（如FAISS）
- 融合：作为LLM的上下文输入

**优先级**: ⭐ 中

**相关文档**: [术语表 - RAG](../technical/术语表.md#rag-retrieval-augmented-generation-检索增强生成)

---

### 13. Diffusion模型在UI异常生成中的应用 🆕

**问题描述**:
- Stable Diffusion如何适配UI异常生成任务？
- ControlNet如何确保UI结构不变？
- 如何平衡生成质量和推理速度？

**当前思路**:
- 使用ControlNet (Canny/Depth)保持布局结构
- Img2Img模式基于种子图生成变体
- SDXL Turbo/LCM加速推理（<2秒）
- 预生成常见异常库降低实时压力

**优先级**: 🔥 高

**相关文档**: [异常界面生成技术路线分析 - Diffusion方案](../research/03_异常界面生成技术路线分析.md#方案1扩散模型diffusion-models)

---

### 14. LoRA风格适配训练方法 🆕

**问题描述**:
- 如何为不同APP训练风格适配器？
- 需要多少训练数据和计算资源？
- 如何评估风格迁移的质量？

**当前思路**:
- 每个目标APP收集1k-5k张界面截图
- 在Stable Diffusion基础上训练LoRA
- 使用CLIP计算风格相似度（目标>0.85）
- 建立自动化的风格验证pipeline

**优先级**: 🔥 高

**数据需求**:
- 训练数据：1k-5k张/APP
- 训练时间：1-2天/APP（单卡A100）
- 存储成本：~100MB/LoRA模型

**相关文档**: [异常界面生成技术路线分析 - 风格匹配](../research/03_异常界面生成技术路线分析.md#2-风格匹配优化方案)

---

### 15. LLM+Diffusion混合架构设计 🆕

**问题描述**:
- 如何设计LLM和Diffusion的协作流程？
- LLM生成什么样的指令给Diffusion？
- 如何处理LLM和Diffusion的误差累积？

**当前思路**:
```
LLM生成异常描述
    ↓
LLM生成ControlNet条件（布局、颜色、元素位置）
    ↓
Diffusion基于条件生成图像
    ↓
多模态模型验证质量
```

**优先级**: 🔥 高

**技术挑战**:
- Prompt工程：如何让LLM生成精确的图像描述
- 条件编码：如何将LLM输出转为ControlNet条件
- 质量保证：如何检测和修复生成失败

**相关文档**: [异常界面生成技术路线分析 - 混合架构](../research/03_异常界面生成技术路线分析.md#方案2混合架构llm--diffusion)

---

### 16. 生成成本优化策略 🆕

**问题描述**:
- 如何降低Diffusion推理的成本？
- 离线生成和在线生成如何权衡？
- 如何建立高效的缓存策略？

**当前思路**:
- **离线生成为主**：预生成异常库（80%场景）
- **在线生成为辅**：处理长尾case（20%）
- **分层缓存**：L1内存 + L2磁盘 + L3对象存储
- **成本分析**：
  - 预生成库：$0/次（一次性成本）
  - SDXL Turbo：$0.01/张
  - GPT-4V生成：$0.05/张

**优先级**: ⭐ 中

**实施建议**:
- Phase 1：100%离线生成（验证阶段）
- Phase 2：80%离线 + 20%在线（规模化）
- Phase 3：按需动态调整比例

**相关文档**: [异常界面生成技术路线分析 - 工程化考量](../research/03_异常界面生成技术路线分析.md#4-工程化考量)

---

## 问题优先级总结

### 🔥 高优先级（立即研究）
1. [界面状态结构化表征的技术难点](#1-界面状态结构化表征的技术难点)
2. [UI交互图谱构建方法](#2-ui交互图谱构建方法)
3. [异常生成的语义合理性保证](#4-异常生成的语义合理性保证)
4. [异常场景质量评估指标设计](#5-异常场景质量评估指标设计)
5. **[Diffusion模型在UI异常生成中的应用](#13-diffusion模型在ui异常生成中的应用-)** 🆕
6. **[LoRA风格适配训练方法](#14-lora风格适配训练方法-)** 🆕
7. **[LLM+Diffusion混合架构设计](#15-llmdiffusion混合架构设计-)** 🆕

### ⭐ 中优先级（近期研究）
1. [异常场景生成的多样性保证](#3-异常场景生成的多样性保证)
2. [异常注入点的智能决策](#6-异常注入点的智能决策)
3. [异常模式的定义和识别](#7-异常模式的定义和识别)
4. [主流工具和框架的适用性评估](#9-主流工具和框架的适用性评估)
5. [RAG在异常生成中的应用](#12-rag在异常生成中的应用)
6. **[生成成本优化策略](#16-生成成本优化策略-)** 🆕

### 💡 探索性（长期规划）
1. [生成准确性和可解释性提升](#8-生成准确性和可解释性提升)
2. [对抗性UI生成的可行性](#10-对抗性ui生成的可行性)
3. [多模态状态表征的优势](#11-多模态状态表征的优势)

---

## 问题跟踪

### 待研究
所有列出的12个问题

### 研究中
- 暂无

### 已解决
- 暂无

---

## 添加新问题

发现新问题时，请按以下格式添加：

```markdown
### N. 问题标题

**问题描述**:
- 具体问题点

**当前思路**:
- 初步想法

**优先级**: 🔥/⭐/💡

**相关文档**: [链接]
```

---

## 相关文档

- [研究路线图](./研究路线图.md) - 整体研究规划
- [调研文档](../research/) - 技术调研成果
- [技术文档](../technical/) - 技术栈和术语
- [参考资源](../references/) - 学术研究和开源项目

---

**创建日期**: 2024-12-30
**最后更新**: 2026-01-05
**问题总数**: 16个
**新增问题**: 4个（Diffusion应用、LoRA训练、混合架构、成本优化）
